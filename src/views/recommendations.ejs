<!DOCTYPE html>
<html>

<head>
    <title>Movies4U • Recommendations</title>
    <link rel = "stylesheet" href="../css/navbar.css">
    <link rel = "stylesheet" href="../css/recommendations.css">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
    <link href='https://fonts.googleapis.com/css?family=Cabin Sketch' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Andika' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>


<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="/home">Movies4U</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/home">Home</a>
              </li>
              <% if (user) { %>
                <li class="nav-item">
                  <a class="nav-link" href="users/logout">Logout</a>
                </li>
            <%} else {%>
                <li class="nav-item">
                  <a class="nav-link" href="users/login">Login</a>
                </li>
            <% } %>
              <li class="nav-item">
                <a class="nav-link" href="/users/register">Register</a>
              </li>
              
            <li class="nav-item">
                  <a class="nav-link" href="/favourites">Favourites</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/dislikes">Dislikes</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="active-page" href="/recommendations">My recommendations</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="profile-page" href="/profile">My profile</a>
            </li>
  
              
          
            </ul>
          </div>
        </div>
      </nav>

      <div class="container-banner" id="id-container-banner">
        <% if (!recommendation) { %>
            <h3 class="banner-title" id="banner-2">You don't have any recommendations yet! Like or dislike some of our movies first!</h3>
        <%} else {%>
                <h1 class="banner-title" id="banner">Here are your recommended movies based on other users preferences!</h1>
                
            </div>
        <% } %>
      </div>

      
      <% if (recommendation) { %>
      <div class="container-info">
        <div class="info-text">• Based on our <i style="color: rgb(117, 173, 71);">Collaborative Filtering algorithm</i> using the movies you interacted with and the other users opinions on these movies, 
            we come up with these recommendations for you that you might be interested in. You can like or dislike these movies, on your own preferences.
          </div>   
        </div>
        <%} else {%>
          <div class="container-info">
            <div class="info-text">• Based on our <i style="color: rgb(117, 173, 71);">Collaborative Filtering algorithm</i> using the movies you interact with and the other users opinions on these movies, 
                we can come up with recommendations for you. Look up some movies and give them a like or dislike.
              </div>   
            </div>        <% } %>
      

      <div id="main"></div>

      <script src="../scripts/recommendations.js"></script>
      <script>
            var recommended_movies = <%- JSON.stringify(rec_movies) %>;
            getFavouriteMovies(recommended_movies);
        
      </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>